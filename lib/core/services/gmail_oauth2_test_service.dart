import 'package:flutter/foundation.dart';import 'package:cloud_functions/cloud_functions.dart';  /// 🧪 Test d'envoi d';      debugPrint('[GmailOAuth2Test] === DÉBUT TEST GMAIL OAUTH2 ===';      debugPrint('[GmailOAuth2Test] 📧 Email de test: $email';      debugPrint('[GmailOAuth2Test] 🔑 Code session: $sessionCode';      debugPrint('[GmailOAuth2Test] 👤 Conducteur: ${conducteurNom ?? "Test User"}';      final callable = FirebaseFunctions.instance.httpsCallable('sendEmailGmail';        'to';        'sessionCode';        'conducteurNom': conducteurNom ?? 'Test User';        'subject': '🚗 Test Gmail OAuth2 - Invitation Constat';      debugPrint('[GmailOAuth2Test] 📤 Réponse Firebase: ${result.data}';      if (result.data != null && result.data['success';        debugPrint('[GmailOAuth2Test] ✅ Test Gmail OAuth2 réussi!';        debugPrint('[GmailOAuth2Test] 📧 Email envoyé vers: $email';        debugPrint('[GmailOAuth2Test] 🆔 Message ID: ${result.data['messageId'] ?? 'N/A'}';        debugPrint('[GmailOAuth2Test] ❌ Test Gmail OAuth2 échoué.';        debugPrint('[GmailOAuth2Test] 📄 Détails: ${result.data}';      debugPrint('[GmailOAuth2Test] ❌ Erreur lors du test Gmail OAuth2: $e';      // Messages d';      if (e.toString().contains('Gmail OAuth2 non configuré';        debugPrint('[GmailOAuth2Test] 🔧 SOLUTION: Configurez CLIENT_ID et CLIENT_SECRET dans functions/index.js';      } else if (e.toString().contains('Function not found';        debugPrint('[GmailOAuth2Test] 🚀 SOLUTION: Déployez les fonctions avec: firebase deploy --only functions';      } else if (e.toString().contains('unauthenticated';        debugPrint('[GmailOAuth2Test] 🔐 SOLUTION: Connectez-vous à l\'application';    final email = testEmail ?? 'hammami123rahma@gmail.com';    final sessionCode = 'SIMPLE${DateTime.now().millisecondsSinceEpoch % 1000}';      conducteurNom: 'Test Simple Gmail OAuth2';      'hammami123rahma@gmail.com';      'test@example.com';    debugPrint('[GmailOAuth2Test] === TEST MULTIPLE GMAIL OAUTH2 ===';    debugPrint('[GmailOAuth2Test] 📧 Emails à tester: ${testEmails.length}';      final sessionCode = 'MULTI${DateTime.now().millisecondsSinceEpoch % 1000}_$i';      debugPrint('[GmailOAuth2Test] 🧪 Test ${i + 1}/${testEmails.length}: $email';          conducteurNom: 'Test Multiple $i';        debugPrint('[GmailOAuth2Test] ${success ? "✅" : "❌"} Résultat pour $email: ${success ? "Succès" : "Échec"}';        debugPrint('[GmailOAuth2Test] ❌ Erreur pour $email: $e';    debugPrint('[GmailOAuth2Test] === RÉSULTATS FINAUX GMAIL OAUTH2 ===';      debugPrint('[GmailOAuth2Test] $email: ${success ? "✅ Succès" : "❌ Échec"}';    final successRate = total > 0 ? (successes / total * 100).toStringAsFixed(1) : '0.0';    debugPrint('[GmailOAuth2Test] === STATISTIQUES ===';    debugPrint('[GmailOAuth2Test] 📊 Total: $total';    debugPrint('[GmailOAuth2Test] ✅ Succès: $successes';    debugPrint('[GmailOAuth2Test] ❌ Échecs: $failures';    debugPrint('[GmailOAuth2Test] 📈 Taux de succès: $successRate%';