import 'package:flutter/material.dart';import 'package:firebase_auth/firebase_auth.dart';import 'package:firebase_storage/firebase_storage.dart';import 'dart:typed_data';      debugPrint('[SimpleStorageTest] 🚀 Test de téléchargement basique...';      // Vérifier l';        debugPrint('[SimpleStorageTest] ❌ Utilisateur non authentifié';      debugPrint('[SimpleStorageTest] ✅ Utilisateur authentifié: ${user.uid}';      debugPrint('[SimpleStorageTest] 📁 Taille de l\'image test: ${testImageData.length} bytes';      // Test avec le chemin exact utilisé par l';      final testVehiculeId = 'test_${DateTime.now().millisecondsSinceEpoch}';      final testFileName = 'test_image.jpg';      final testPath = 'vehicules/$testVehiculeId/recto/$testFileName';      debugPrint('[SimpleStorageTest] 📤 Test d\'upload sur: $testPath';          debugPrint('[SimpleStorageTest] 📊 Progression: ${(progress * 100).toStringAsFixed(1)}%';        debugPrint('[SimpleStorageTest] ✅ Upload terminé avec succès';        // Obtenir l';        debugPrint('[SimpleStorageTest] 🔗 URL obtenue: $downloadUrl';          debugPrint('[SimpleStorageTest] ✅ Lecture réussie: ${downloadedData.length} bytes';          debugPrint('[SimpleStorageTest] ⚠️ Données téléchargées nulles';        debugPrint('[SimpleStorageTest] 🗑️ Fichier supprimé';        debugPrint('[SimpleStorageTest] 🎉 Test réussi !';        debugPrint('[SimpleStorageTest] ❌ Erreur lors du test: $e';        if (e.toString().contains('permission') || e.toString().contains('denied';          debugPrint('[SimpleStorageTest] 🔒 Problème de permissions détecté';          debugPrint('[SimpleStorageTest] 📋 Vérifiez vos règles Firebase Storage';          debugPrint('[SimpleStorageTest] 👤 UID utilisateur: ${user.uid}';          debugPrint('[SimpleStorageTest] 📂 Chemin testé: $testPath';        } else if (e.toString().contains('network') || e.toString().contains('connection';          debugPrint('[SimpleStorageTest] 🌐 Problème de connexion réseau';          debugPrint('[SimpleStorageTest] ⚠️ Erreur inconnue: ${e.runtimeType}';      debugPrint('[SimpleStorageTest] ❌ Erreur générale: $e';      debugPrint('[SimpleStorageTest] 🔐 Vérification du statut d\'authentification...';        debugPrint('[SimpleStorageTest] ❌ Aucun utilisateur connecté';      debugPrint('[SimpleStorageTest] ✅ Utilisateur connecté:';      debugPrint('[SimpleStorageTest]   - UID: ${user.uid}';      debugPrint('[SimpleStorageTest]   - Email: ${user.email ?? 'Non défini'}';      debugPrint('[SimpleStorageTest]   - Vérifié: ${user.emailVerified}';      debugPrint('[SimpleStorageTest]   - Anonyme: ${user.isAnonymous}';        debugPrint('[SimpleStorageTest] ✅ Token obtenu (longueur: ${token?.length ?? 0})';        debugPrint('[SimpleStorageTest] ❌ Erreur lors de l\'obtention du token: $e';      debugPrint('[SimpleStorageTest] ❌ Erreur lors de la vérification auth: $e';    debugPrint('[SimpleStorageTest] 🚀 Début des tests Firebase Storage...';    debugPrint('[SimpleStorageTest] =====================================';    debugPrint('[SimpleStorageTest] -------------------------------------';    debugPrint('[SimpleStorageTest] =====================================';    debugPrint('[SimpleStorageTest] ✅ Tests terminés';