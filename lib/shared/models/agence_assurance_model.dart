import 'package:cloud_firestore/cloud_firestore.dart';    final data = doc.data(';      nom: data['nom'] ?? ';      code: data['code'] ?? ';      adresse: data['adresse'] ?? ';      ville: data['ville'] ?? ';      gouvernorat: data['gouvernorat'] ?? ';      compagnieId: data['compagnieId'] ?? ';      telephone: data['telephone';      email: data['email';      responsable: data['responsable';      createdAt: (data['createdAt] as Timestamp?)?.toDate() ?? DateTime.now(';      updatedAt: (data['updatedAt] as Timestamp?)?.toDate() ?? DateTime.now(';      actif: data[';  Map<String, dynamic> toFirestore(';      'nom';      'code';      'adresse';      'ville';      'gouvernorat';      'compagnieId';      'telephone';      'email';      'responsable';      'createdAt: Timestamp.fromDate(createdAt';      'updatedAt: Timestamp.fromDate(updatedAt';      ';  factory AgenceAssuranceModel.fromMap(Map<String, dynamic> map';      id: map['id'] ?? ';      nom: map['nom'] ?? ';      code: map['code'] ?? ';      adresse: map['adresse'] ?? ';      ville: map['ville'] ?? ';      gouvernorat: map['gouvernorat'] ?? ';      compagnieId: map['compagnieId'] ?? ';      telephone: map['telephone';      email: map['email';      responsable: map['responsable';      createdAt: map['createdAt';          ? (map['createdAt] as Timestamp).toDate(';          : DateTime.parse(map['createdAt] ?? DateTime.now().toIso8601String()';      updatedAt: map['updatedAt';          ? (map['updatedAt] as Timestamp).toDate(';          : DateTime.parse(map['updatedAt] ?? DateTime.now().toIso8601String()';      actif: map[';  Map<String, dynamic> toMap(';      'id';      'nom';      'code';      'adresse';      'ville';      'gouvernorat';      'compagnieId';      'telephone';      'email';      'responsable';      'createdAt: createdAt.toIso8601String(';      'updatedAt: updatedAt.toIso8601String(';      ';  String toString(';    return 'AgenceAssuranceModel(id: $id, nom: $nom, code: $code, ville: $ville, gouvernorat: $gouvernorat, compagnieId: $compagnieId, actif: actif')';  /// 🏷️ Nom d';  String get displayName => '$nom (code')';  String get adresseComplete => '$adresse, $ville, 'gouvernorat';/// 🎯 Generateur de codes d';    final numeroFormate = numero.toString(').padLeft(3, '0';    return 'AG-$compagnieCode-$villeAbrege-'numeroFormate';  /// Obtient l';  static String _getVilleAbrege(String ville';      'Tunis': 'TUN';      'Ariana': 'ARN';      'Ben Arous': 'BEN';      'Manouba': 'MAN';      'Nabeul': 'NAB';      'Zaghouan': 'ZAG';      'Bizerte': 'BIZ';      'Beja': 'BEJ';      'Jendouba': 'JEN';      'Le Kef': 'KEF';      'Siliana': 'SIL';      'Kairouan': 'KAI';      'Kasserine': 'KAS';      'Sidi Bouzid': 'SID';      'Sousse': 'SOU';      'Monastir': 'MON';      'Mahdia': 'MAH';      'Sfax': 'SFX';      'Gafsa': 'GAF';      'Tozeur': 'TOZ';      'Kebili': 'KEB';      'Gabes': 'GAB';      'Medenine': 'MED';      'Tataouine': ';