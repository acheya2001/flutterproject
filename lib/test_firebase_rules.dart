import 'package:flutter/material.dart';import 'package:firebase_auth/firebase_auth.dart';import 'package:firebase_storage/firebase_storage.dart';import 'package:cloud_firestore/cloud_firestore.dart';import 'dart:io';import 'dart:typed_data';      debugPrint('[FirebaseRulesTest] Test des règles Firebase Storage...';      // Vérifier l';        debugPrint('[FirebaseRulesTest] ❌ Utilisateur non authentifié';      debugPrint('[FirebaseRulesTest] ✅ Utilisateur authentifié: ${user.uid}';      // Test d';      final testVehiculeId = 'test_${DateTime.now().millisecondsSinceEpoch}';      final testFileName = 'test_image.jpg';      // Test du chemin utilisé par l';      final testPath = 'vehicules/$testVehiculeId/recto/$testFileName';      debugPrint('[FirebaseRulesTest] Test d\'écriture sur le chemin: $testPath';        debugPrint('[FirebaseRulesTest] ✅ Écriture réussie dans Storage';        debugPrint('[FirebaseRulesTest] ✅ Lecture réussie: $downloadUrl';        debugPrint('[FirebaseRulesTest] ✅ Suppression réussie';        debugPrint('[FirebaseRulesTest] ❌ Erreur Storage: $e';        if (e.toString().contains('permission') || e.toString().contains('denied';          debugPrint('[FirebaseRulesTest] 🔍 Problème de permissions détecté';          debugPrint('[FirebaseRulesTest] Chemin testé: $testPath';          debugPrint('[FirebaseRulesTest] UID utilisateur: ${user.uid}';      debugPrint('[FirebaseRulesTest] ❌ Erreur générale: $e';      debugPrint('[FirebaseRulesTest] Test des règles Firestore...';        debugPrint('[FirebaseRulesTest] ❌ Utilisateur non authentifié';      final testVehiculeId = 'test_${DateTime.now().millisecondsSinceEpoch}';      // Test d';        'immatriculation': 'TEST 123';        'marque': 'Test';        'modele': 'Test';        'proprietaireId';        'createdAt';        'updatedAt';        await firestore.collection('vehicules';        debugPrint('[FirebaseRulesTest] ✅ Écriture Firestore réussie';        final doc = await firestore.collection('vehicules';          debugPrint('[FirebaseRulesTest] ✅ Lecture Firestore réussie';        await firestore.collection('vehicules';        debugPrint('[FirebaseRulesTest] ✅ Suppression Firestore réussie';        debugPrint('[FirebaseRulesTest] ❌ Erreur Firestore: $e';      debugPrint('[FirebaseRulesTest] ❌ Erreur générale Firestore: $e';    debugPrint('[FirebaseRulesTest] 🚀 Début des tests Firebase...';    debugPrint('[FirebaseRulesTest] ✅ Tests terminés';