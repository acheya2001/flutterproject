import 'package:firebase_auth/firebase_auth.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../../../../core/services/firebase_service.dart';import '../../../../core/enums/app_enums.dart';import '../../../../core/constants/app_constants.dart';import '../../../../shared/models/user_model.dart';/// 🔐 Service d';        return AuthResult.failure('Erreur de connexion';        return AuthResult.failure('Compte utilisateur non trouvé';      final userRole = UserRole.fromString(userData['role';      final accountStatus = AccountStatus.fromString(userData['status';      return AuthResult.failure('Erreur de connexion: $e';  /// 📝 Inscription d';      // Vérification de l'unicité de l';        return AuthResult.failure('Un compte existe déjà avec cet email';      // Vérification de l';        return AuthResult.failure('Un compte existe déjà avec ce CIN';        return AuthResult.failure('Erreur lors de la création du compte';      // Pour l';      return AuthResult.failure('Erreur lors de l\'inscription: $e';  /// 👨‍💼 Demande d';      // Vérification de l'unicité de l';        return AuthResult.failure('Un compte existe déjà avec cet email';        return AuthResult.failure('Erreur lors de la création du compte';          'companyId';          if (agencyId != null) 'agencyId';          if (specialization != null) 'specialization';          if (licenseNumber != null) 'licenseNumber';        message: 'Votre demande a été soumise. Elle sera examinée par un administrateur.';      return AuthResult.failure('Erreur lors de la demande: $e';        message: 'Un email de réinitialisation a été envoyé à $email';      return AuthResult.failure('Erreur lors de la réinitialisation: $e';  /// 👤 Récupération de l';        .where('email';        .where('cin';      'lastLoginAt';    // Pour l';        return 'Votre compte est en attente de validation par un administrateur.';        return 'Votre compte a été suspendu. Contactez l\'administrateur.';        return 'Votre demande de compte a été rejetée.';        return 'Votre compte a expiré. Contactez l\'administrateur.';        return 'Statut de compte non valide.';      case 'user-not-found';        return 'Aucun utilisateur trouvé avec cet email.';      case 'wrong-password';        return 'Mot de passe incorrect.';      case 'email-already-in-use';        return 'Un compte existe déjà avec cet email.';      case 'weak-password';        return 'Le mot de passe est trop faible (minimum 8 caractères).';      case 'invalid-email';        return 'L\'adresse email n\'est pas valide.';      case 'user-disabled';        return 'Ce compte utilisateur a été désactivé.';      case 'too-many-requests';        return 'Trop de tentatives. Veuillez réessayer plus tard.';        return 'Erreur d\'authentification: ${e.message}';/// 📊 Résultat d';