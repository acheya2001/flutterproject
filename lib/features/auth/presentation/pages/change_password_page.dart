import 'package:flutter/material.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../../../../core/theme/modern_theme.dart';import ';      if (currentUser != null';            .collection(';            _userData = userDoc.data(';            _userRole = _userData?[';    } catch (e';      debugPrint(';  Widget build(BuildContext context';        title: const Text(';    ')')';  /// ðŸ“‹ Construire l';            label: Mot de passe actuel (temporaire')';                return ';          const SizedBox(height: 16';            label: ';              if (value == null || value.isEmpty';                return ';              if (value.length < 8';                return 'Le mot de passe doit contenir au moins 8 caracteres';              if (!RegExp(r^(?=.*[a-z])(?=.*[A-Z])(?=.*\d')';                return ';          const SizedBox(height: 16';            label: ';              if (value == null || value.isEmpty';                return ';              if (value != _newPasswordController.text';                return ';      if (currentUser == null';        throw Exception(';      await currentUser.updatePassword(_newPasswordController.text';          .collection(';          .doc(currentUser.uid';        'passwordChangeRequired';        ';      }';      debugPrint(';        ScaffoldMessenger.of(context';            content: const Text(';        ')')';        // Rediriger vers l';      debugPrint(';      if (mounted';        String errorMessage = ';        if (e.toString(').contains('wrong-password)';          errorMessage = ';        } else if (e.toString(').contains('weak-password)';          errorMessage = ';