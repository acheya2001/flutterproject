import 'package:flutter/material.dart';import 'package:firebase_auth/firebase_auth.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import '../../../core/config/app_routes.dart';import '../../../utils/user_type.dart';import '../providers/auth_provider.dart';    'Tunis', 'Ariana', 'Ben Arous', 'Manouba', 'Nabeul', 'Zaghouan';    'Bizerte', 'Béja', 'Jendouba', 'Kef', 'Siliana', 'Sousse';    'Monastir', 'Mahdia', 'Sfax', 'Kairouan', 'Kasserine', 'Sidi Bouzid';    'Gabès', 'Médenine', 'Tataouine', 'Gafsa', 'Tozeur', 'Kébili';    'Agent Commercial';    'Conseiller Clientèle';    'Responsable Agence';    'Superviseur';    'Chargé de Sinistres';        _errorMessage = "Veuillez accepter les conditions d';    // Vérifier que seuls les conducteurs peuvent s';        _errorMessage = "Seuls les conducteurs peuvent s';      debugPrint('=== DÉBUT INSCRIPTION ===';      debugPrint('Email: ${_emailController.text.trim()}';      debugPrint('Nom: ${_nomController.text.trim()}';      debugPrint('Prénom: ${_prenomController.text.trim()}';      debugPrint('Type: $_selectedUserType';      // Utiliser le AuthProvider pour l';        debugPrint('Inscription terminée avec succès';        debugPrint('Redirection vers la page d\'accueil...';          _errorMessage = authProviderInstance.error ?? "Erreur lors de l';      debugPrint('ERREUR FirebaseAuthException: ${e.code} - ${e.message}';          case 'email-already-in-use';          case 'invalid-email';            _errorMessage = "Format d';          case 'weak-password';            _errorMessage = "Erreur d';      debugPrint('ERREUR générale: $e';          _errorMessage = "Une erreur s';      debugPrint('=== FIN INSCRIPTION ===';      _emailController.text = 'test${DateTime.now().millisecondsSinceEpoch}@example.com';      _passwordController.text = 'password123';      _confirmPasswordController.text = 'password123';      _nomController.text = 'Nom Test';      _prenomController.text = 'Prénom Test';      _telephoneController.text = '12345678';        _cinController.text = '12345678';            ? 'Assurance Test';            : 'Cabinet Test';            ? 'MAT123456';            : 'EXP123456';        title: const Text('Inscription';            tooltip: 'Remplir avec des données de test';              // Message d';              // Type d';                'Type de compte';              // Sélection du type d';                  _buildUserTypeOption(UserType.conducteur, 'Conducteur';                          'Vous êtes un professionnel ?';                          'Agent d\'assurance ou Expert';                            Navigator.pushNamed(context, '/professional-info';                          child: const Text('En savoir plus';                'Informations de connexion';                  labelText: 'Email';                    return 'Veuillez entrer votre email';                  if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$';                    return 'Veuillez entrer un email valide';                  labelText: 'Mot de passe';                    return 'Veuillez entrer un mot de passe';                    return 'Le mot de passe doit contenir au moins 6 caractères';                  labelText: 'Confirmer le mot de passe';                    return 'Veuillez confirmer votre mot de passe';                    return 'Les mots de passe ne correspondent pas';                'Informations personnelles';                        labelText: 'Nom';                          return 'Obligatoire';                        labelText: 'Prénom';                          return 'Obligatoire';                  labelText: 'Téléphone';                    return 'Veuillez entrer votre numéro de téléphone';                  if (!RegExp(r'^[0-9]{8}$';                    return 'Format invalide (8 chiffres)';              // Champs spécifiques au type d';                    ? 'Informations du conducteur';                        ? 'Informations de l\'assureur';                        : 'Informations de l\'expert';                    labelText: 'Numéro de CIN';                      return 'Veuillez entrer votre numéro de CIN';                    if (!RegExp(r'^[0-9]{8}$';                      return 'Format invalide (8 chiffres)';                        ? 'Compagnie d\'assurance';                        : 'Cabinet d\'expertise';                      return 'Ce champ est obligatoire';                        ? 'Matricule';                        : 'Numéro d\'agrément';                      return 'Ce champ est obligatoire';              // Conditions d';                        'J\'accepte les conditions d\'utilisation et la politique de confidentialité';              // Bouton d';                        'S\'inscrire';                    child: const Text('Se connecter';