import 'package:flutter/foundation.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import '../models/assureur_model.dart';import '../services/hierarchical_auth_service.dart';/// 🏢 Provider pour la gestion de l';  /// 🔐 Connexion d';  /// 📊 Charger toutes les données de l';      // Charger les autres agents de l';      // Charger les statistiques de l';      debugPrint('[HierarchicalAuthProvider] Erreur chargement données: $e';  /// 🏢 Récupérer les agences d';      debugPrint('[HierarchicalAuthProvider] Erreur récupération agences: $e';  /// 📈 Obtenir les informations de l';    return _agentHierarchy!['agence';    return _agentHierarchy!['compagnie';  /// 👥 Obtenir le nombre d'agents dans l';      'agents': '${_agencyStats['agents'] ?? 0}';      'contrats_total': '${_agencyStats['contrats_total'] ?? 0}';      'contrats_actifs': '${_agencyStats['contrats_actifs'] ?? 0}';      'taux_activation': _agencyStats['contrats_total'] != null && _agencyStats['contrats_total';          ? '${((_agencyStats['contrats_actifs'] ?? 0) * 100 / _agencyStats['contrats_total']!).toStringAsFixed(1)}%';          : '0%';  /// 🎯 Obtenir le nom complet de l';    if (_currentAgent == null) return '';    return '${_currentAgent!.prenom} ${_currentAgent!.nom}';  /// 🏢 Obtenir le nom de l';    return _currentAgent?.agenceNom ?? '';    return _currentAgent?.gouvernorat ?? '';    return _currentAgent?.poste ?? '';    return _currentAgent?.compagnie ?? '';  /// ✅ Vérifier si l';    return _currentAgent?.poste == 'Responsable Agence';           _currentAgent?.poste == 'Superviseur';  /// 📊 Obtenir un résumé de l';      'nom_complet';      'email';      'telephone';      'matricule';      'compagnie';      'agence';      'gouvernorat';      'poste';      'statut';      'permissions';      'date_embauche';      'derniere_connexion';/// Provider global pour l';/// Provider pour obtenir les statistiques de l';/// Provider pour vérifier si l';