import 'package:cloud_firestore/cloud_firestore.dart';import 'package:flutter/foundation.dart';import '../models/contrat_assurance_model.dart';  /// üìÑ Cr√©er un nouveau contrat d';        id: '';        statut: 'actif';          .collection('contrats_assurance';      // Mettre √† jour le v√©hicule avec l';          .collection('vehicules_assures';          .update({'contratId';      debugPrint('[ContratVehiculeService] ‚úÖ Contrat cr√©√©: ${docRef.id}';      debugPrint('[ContratVehiculeService] ‚ùå Erreur cr√©ation contrat: $e';    String typeVehicule = 'voiture';    String carburant = 'essence';        id: '';        statut: 'actif';          .collection('vehicules_assures';      debugPrint('[ContratVehiculeService] ‚úÖ V√©hicule cr√©√©: ${docRef.id}';      debugPrint('[ContratVehiculeService] ‚ùå Erreur cr√©ation v√©hicule: $e';  /// üìã Obtenir les v√©hicules d';          .collection('vehicules_assures';          .where('conducteurId';          .where('statut', isEqualTo: 'actif';      debugPrint('[ContratVehiculeService] ‚ùå Erreur r√©cup√©ration v√©hicules: $e';  /// üìÑ Obtenir les contrats d';          .collection('contrats_assurance';          .where('conducteurId';          .orderBy('dateCreation';      debugPrint('[ContratVehiculeService] ‚ùå Erreur r√©cup√©ration contrats: $e';          .collection('contrats_assurance';      debugPrint('[ContratVehiculeService] ‚ùå Erreur r√©cup√©ration contrat: $e';          .collection('vehicules_assures';      debugPrint('[ContratVehiculeService] ‚ùå Erreur r√©cup√©ration v√©hicule: $e';          .collection('vehicules_assures';          .where('immatriculation';      debugPrint('[ContratVehiculeService] ‚ùå Erreur recherche v√©hicule: $e';          'vehicule';          'contrat';          'isAssure';          'expireBientot';      debugPrint('[ContratVehiculeService] ‚ùå Erreur r√©cup√©ration v√©hicules avec contrats: $e';          .collection('compagnies_assurance';      String codeCompagnie = 'ASS';        codeCompagnie = data['code'] ?? 'ASS';          .collection('contrats_assurance';          .where('compagnieId';      return '$codeCompagnie-$annee-${numeroSequentiel.toString().padLeft(6, '0')}';      debugPrint('[ContratVehiculeService] ‚ùå Erreur g√©n√©ration num√©ro: $e';      return 'CONT-$timestamp';  /// üìà Obtenir les statistiques d';          .collection('contrats_assurance';          .where('agentId';            return data['statut'] == 'actif';          .map((doc) => doc.data()['conducteurId';        'nombreContrats';        'contratsActifs';        'nombreClients';      debugPrint('[ContratVehiculeService] ‚ùå Erreur statistiques agent: $e';        'nombreContrats';        'contratsActifs';        'nombreClients';          .collection('contrats_assurance';            'dateFin';            'statut': 'actif';      debugPrint('[ContratVehiculeService] ‚úÖ Contrat renouvel√©: $contratId';      debugPrint('[ContratVehiculeService] ‚ùå Erreur renouvellement: $e';          .collection('contrats_assurance';            'statut': 'resilie';            'motifResiliation';            'dateResiliation';      debugPrint('[ContratVehiculeService] ‚úÖ Contrat r√©sili√©: $contratId';      debugPrint('[ContratVehiculeService] ‚ùå Erreur r√©siliation: $e';