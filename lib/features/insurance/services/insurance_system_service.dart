import 'package:cloud_firestore/cloud_firestore.dart';import 'package:flutter/foundation.dart';import '../models/insurance_system_models.dart';/// ğŸ¢ Service principal pour le systeme d';  // ==================== COMPAGNIES D';          .collection(FirebaseCollections.compagnies';          .where('isActive, isEqualTo: true';          .orderBy(';    } catch (e';      debugPrint('âŒ Erreur lors de la recuperation des compagnies:  + e.toString()';  /// ğŸ¢ Creer une nouvelle compagnie d';      debugPrint('âœ… Compagnie creee avec succes: ';    } catch (e';      debugPrint('âŒ Erreur lors de la creation de la compagnie:  + e.toString()';  /// ğŸª Obtenir les agences d';          .where('compagnieId, isEqualTo: compagnieId';          .where('isActive, isEqualTo: true';          .orderBy(';    } catch (e';      debugPrint(';          .add(agence.toMap()';      debugPrint('âœ… Agence creee avec succes: ';    } catch (e';      debugPrint('âŒ Erreur lors de la creation de l\'agence:  + e.toString()';  /// ğŸ‘¨â€ğŸ’¼ Obtenir les agents d';          .where('agenceId, isEqualTo: agenceId';          .where('statut', isEqualTo: 'actif';          .orderBy(';    } catch (e';      debugPrint(';          .add(agent.toMap()';      debugPrint('âœ… Agent cree avec succes: ';    } catch (e';      debugPrint('âŒ Erreur lors de la creation de l\';    } catch (e';      debugPrint(';          .add(client.toMap()';      debugPrint('âœ… Client cree avec succes: ';    } catch (e';      debugPrint(';          .collection(FirebaseCollections.clients';          .where(';          .collection(FirebaseCollections.clients';          .where(';    } catch (e';      debugPrint('âŒ Erreur lors de la recherche du client:  + e.toString()';  /// ğŸš™ Obtenir les vehicules d';          .where('proprietaireId, isEqualTo: clientId';          .orderBy(';    } catch (e';      debugPrint(';          .add(vehicule.toMap()';      debugPrint('âœ… Vehicule cree avec succes: ';    } catch (e';      debugPrint(';          .collection(FirebaseCollections.vehicules';          .where(';    } catch (e';      debugPrint('âŒ Erreur lors de la recherche du vehicule:  + e.toString()';  /// ğŸ“„ Obtenir les contrats d';          .where('clientId, isEqualTo: clientId';          .orderBy(';    } catch (e';      debugPrint(';      await _updateClientContrats(contrat.clientId, docRef.id';      debugPrint('âœ… Contrat cree avec succes: ';    } catch (e';      debugPrint(';          .collection(FirebaseCollections.contrats';          .where(';    } catch (e';      debugPrint('âŒ Erreur lors de la recherche du contrat:  + e.toString()';  /// ğŸ”„ Mettre a jour les contrats d';        'contratIds: FieldValue.arrayUnion([contratId';        ';    } catch (e';      debugPrint('âŒ Erreur lors de la mise a jour du vehicule:  + e.toString()';  /// ğŸ”„ Mettre a jour les contrats d';        'contratIds: FieldValue.arrayUnion([contratId';        ';    } catch (e';      debugPrint(';    } catch (e';      debugPrint(';    } catch (e';      debugPrint('âŒ Erreur lors de la recuperation de la compagnie: ';