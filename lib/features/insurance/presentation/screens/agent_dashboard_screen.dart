import 'package:flutter/material.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../../../auth/models/user_model.dart';import '../widgets/agent_stats_card.dart';import 'create_contract_screen.dart';    _loadAgentStats(';  /// Charger les statistiques de l';      // Recuperer les contrats de l';          .collectionGroup('contrats';          .where(';        final data = doc.data(';        final dateFin = (data['dateFin] as Timestamp).toDate(';        final isActive = data['isActive';        final prime = (data[';      setState((';          'totalContrats';          'contratsActifs';          'contratsExpires';          ';                            ';                            ({widget.agent.prenom}';              title: 'Total Contrats';              value: _stats['totalContrats]?.toString(') ?? ';            ';              title: 'Contrats Actifs';              value: _stats['contratsActifs]?.toString(') ?? ';            ';              title: 'Contrats Expires';              value: _stats['contratsExpires]?.toString(') ?? ';            ';              title: 'CA Total';              value: ''{(_stats['chiffreAffaires] ?? 0).toStringAsFixed(0')} TND';              title: ';            ';              title: ';            ';              title: ';            ';              title: ';    ';  /// Carte d';            hintText: ';            onPressed: () => Navigator.pop(context';            child: const Text(';            ')')';            child: const Text(';    ScaffoldMessenger.of(context')')';        content: const Text(';    ScaffoldMessenger.of(context')')';        content: const Text(';')')