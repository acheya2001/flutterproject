import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import '../services/expert_management_service.dart';import '../services/insurance_system_service.dart';import ';  ConsumerState<ExpertManagementScreen> createState() => _ExpertManagementScreenState(';  String _searchQuery = ';      _compagnies = await InsuranceSystemService.getAllCompagnies(';      // Charger les constats en attente d';      _showErrorSnackBar(';        unselectedLabelColor: Colors.white.withValues(alpha: 0.7';        tabs: const [ text: ';          Tab(icon: const Icon(Icons.info'), text: ';          Tab(icon: const Icon(Icons.info'), text: ';          ';          child: ({filteredExperts.length > 1 ? 's' : ';              icon: const Icon(Icons.info';              label: const Text(';    ')')';  /// 👨‍🔧 Carte d';              id: ';              nom: 'Inconnue';              code: ';              logo: ';              couleur: '#000000';              slogan: ';              adresseSiege: ';              telephone: ';              email: ';              siteWeb: ';              numeroAgrement: ';                    const SizedBox(width: 15';                          ({expert.nom}';                _buildInfoRow(Icons.phone, ';                const SizedBox(height: 8';                _buildInfoRow(Icons.email, ';                const SizedBox(height: 8';                _buildInfoRow(Icons.location_on, 'Zone', expert.gouvernoratsIntervention.join(';                const SizedBox(height: 8';                _buildInfoRow(Icons.business, 'Compagnies';                  compagniesNoms.isNotEmpty ? compagniesNoms.join(', ') : ';                const SizedBox(height: 20';                        ';                    const SizedBox(width: 10';                        ';    switch (statut.toLowerCase()';      case 'actif';      case 'disponible';        text = 'Actif';      case 'occupe';      case 'occupe';        text = 'Occupe';      case 'inactif';      case 'suspendu';      case 'indisponible';        text = ';        const SizedBox(width: 8';        (label: ';          ({_formatDate(constat.dateAccident')}';            onPressed: () => _showConstatDetails(constat';            child: const Text(';          const SizedBox(height: 15')')';          _buildStatCard(';          const SizedBox(height: 15';          _buildStatCard(';    }).toList(';  /// ➕ Bouton d';            hintText: ';              setState((';                _searchQuery = ';              Navigator.of(context).pop(';            child: const Text(';            onPressed: () => Navigator.of(context).pop(')')';            child: const Text(';    ')')';  /// 👨‍🔧 Afficher les details d';        ';              _buildDetailRow('Email, expert.email';              _buildDetailRow('Telephone, expert.telephone';              _buildDetailRow('Adresse', expert.adresse ?? 'Non specifiee';              _buildDetailRow('Specialites, expert.specialite';              _buildDetailRow('Zone geographique', expert.gouvernoratsIntervention.join(', )';              _buildDetailRow('Statut, expert.statut';              _buildDetailRow('Cabinet', expert.cabinet ?? ';              if (expert.certifications.isNotEmpty';                _buildDetailRow('Certifications', expert.certifications.join(';            onPressed: () => Navigator.of(context).pop(';            child: const Text(';              _assignConstat(expert')')';            child: const Text(';    ')')';  /// 📋 Afficher les details d';    // TODO: Implementer l';    _showInfoSnackBar(';  void _assignConstat(ExpertAutomobileUnified expert';    // TODO: Implementer l';    _showInfoSnackBar(';  void _addNewExpert(';    // TODO: Naviguer vers l'ecran d'ajout d';    _showInfoSnackBar('Fonctionnalite d\'ajout d\';  String _formatDate(DateTime date';    return '{date.day.toString(').padLeft(2, '0')}/'{date.month.toString().padLeft(2, '0')}/'{date.year}';