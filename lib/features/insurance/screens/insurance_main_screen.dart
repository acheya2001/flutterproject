import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import 'conducteur_dashboard.dart';import 'agent_contracts_dashboard.dart';import 'expert_management_screen.dart';/// ğŸ  Ã‰cran principal moderne du systeme d';  final String userRole; // 'conducteur', 'agent', 'expert', ';  ConsumerState<InsuranceMainScreen> createState() => _InsuranceMainScreenState(';  String _userName = ';  String _userEmail = ';      _userName = _getUserDisplayName(';      _userEmail = ';    switch (widget.userRole';      case 'conducteur';        return 'Ahmed Ben Ali';      case 'agent';        return 'Fatma Trabelsi';      case 'expert';        return 'Mohamed Gharbi';      case 'admin';        return 'Administrateur';        return ';    switch (widget.userRole';      case 'conducteur';          'vehicules';          'constats';          'assurances';      case 'agent';          'contrats';          'clients';          'vehicules';      case 'expert';          'constats';          'compagnies';          'expertises';      case 'admin';          'agents';          'experts';          ';    switch (widget.userRole';      case ';        return [const Color(0xFF667eea), const Color(0xFF764ba2';      case ';        return [const Color(0xFF4facfe), const Color(0xFF00f2fe';      case ';        return [const Color(0xFFfa709a), const Color(0xFFfee140';      case ';    switch (widget.userRole';      case 'conducteur';        return 'Espace Conducteur';      case 'agent';        return 'Espace Agent';      case 'expert';        return 'Espace Expert';      case 'admin';        return 'Administration';        return ';      ';                (_userName !';      case 'conducteur';        return 'Gerez vos vehicules et vos assurances en toute simplicite';      case 'agent';        return 'Creez et gerez les contrats d\'assurance de vos clients';      case 'expert';        return 'Effectuez vos expertises automobiles avec efficacite';      case 'admin';        return 'Supervisez l\'ensemble du systeme d\'assurance';        return ';    switch (widget.userRole';      case 'conducteur';      case 'agent';      case 'expert';      case ';    switch (widget.userRole';      case 'conducteur';            'title': 'Vehicules';            'value': _userStats['vehicules]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF4CAF50';            'title': 'Constats';            'value': _userStats['constats]?.toString(') ?? '0';            'icon';            'color: const Color(0xFFFF9800';            'title': 'Assurances';            'value': _userStats['assurances]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF2196F3';      case 'agent';            'title': 'Contrats';            'value': _userStats['contrats]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF4CAF50';            'title': 'Clients';            'value': _userStats['clients]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF2196F3';            'title': 'Vehicules';            'value': _userStats['vehicules]?.toString(') ?? '0';            'icon';            'color: const Color(0xFFFF9800';      case 'expert';            'title': 'Constats';            'value': _userStats['constats]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF4CAF50';            'title': 'Compagnies';            'value': _userStats['compagnies]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF2196F3';            'title': 'Expertises';            'value': _userStats['expertises]?.toString(') ?? '0';            'icon';            'color: const Color(0xFFFF9800';      case 'admin';            'title': 'Agents';            'value': _userStats['agents]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF4CAF50';            'title': 'Experts';            'value': _userStats['experts]?.toString(') ?? '0';            'icon';            'color: const Color(0xFF2196F3';            'title': 'Compagnies';            'value': _userStats['compagnies]?.toString(') ?? '0';            'icon';            ';      itemBuilder: (context, index';          action['title';          action['icon';          action['color';          action[';    switch (widget.userRole';      case 'conducteur';            'title': 'Mes Vehicules';            'icon';            'color: const Color(0xFF4CAF50';            'onTap: () => _navigateToConducteurDashboard(';            'title': 'Declarer Accident';            'icon';            'color: const Color(0xFFFF5722';            'onTap: () => _declareAccident(';            'title': 'Mes Assurances';            'icon';            'color: const Color(0xFF2196F3';            'onTap: () => _showInsurances(';            'title': 'Historique';            'icon';            'color: const Color(0xFF9C27B0';            'onTap: () => _showHistory(';      case 'agent';            'title': 'Creer Contrat';            'icon';            'color: const Color(0xFF4CAF50';            'onTap: () => _navigateToAgentDashboard(';            'title': 'Mes Contrats';            'icon';            'color: const Color(0xFF2196F3';            'onTap: () => _navigateToAgentDashboard(';            'title': 'Clients';            'icon';            'color: const Color(0xFFFF9800';            'onTap: () => _showClients(';            'title': 'Statistiques';            'icon';            'color: const Color(0xFF9C27B0';            'onTap: () => _showAgentStats(';      case 'expert';            'title': 'Mes Expertises';            'icon';            'color: const Color(0xFF4CAF50';            'onTap: () => _navigateToExpertDashboard(';            'title': 'Constats Assignes';            'icon';            'color: const Color(0xFFFF9800';            'onTap: () => _showAssignedConstats(';            'title': 'Compagnies';            'icon';            'color: const Color(0xFF2196F3';            'onTap: () => _showCompanies(';            'title': 'Rapports';            'icon';            'color: const Color(0xFF9C27B0';            'onTap: () => _showReports(';      case 'admin';            'title': 'Gestion Agents';            'icon';            'color: const Color(0xFF4CAF50';            'onTap: () => _manageAgents(';            'title': 'Gestion Experts';            'icon';            'color: const Color(0xFF2196F3';            'onTap: () => _navigateToExpertManagement(';            'title': 'Compagnies';            'icon';            'color: const Color(0xFFFF9800';            'onTap: () => _manageCompanies(';            'title': 'Statistiques';            'icon';            'color: const Color(0xFF9C27B0';            ';          ';                _buildDrawerItem(Icons.home, 'Accueil, () => Navigator.pop(context)';                _buildDrawerItem(Icons.person, 'Mon Profil, _showProfile';                _buildDrawerItem(Icons.settings, 'Parametres, _showSettings';                _buildDrawerItem(Icons.help, 'Aide, _showHelp';                _buildDrawerItem(Icons.logout, ';        builder: (context';          compagnieId: 'default_compagnie', // TODO: Recuperer la vraie compagnie de l';          agenceId: 'default_agence';    ';  // ==================== MÃ‰THODES D';    _showInfoSnackBar('Selectionnez d\';  void _showInsurances(';    _showInfoSnackBar(';  void _showHistory(';    _showInfoSnackBar(';  void _showClients(';    _showInfoSnackBar(';  void _showAgentStats(';    _showInfoSnackBar(';  void _showAssignedConstats(';    _showInfoSnackBar(';  void _showCompanies(';    _showInfoSnackBar(';  void _showReports(';    _showInfoSnackBar(';  void _manageAgents(';    _showInfoSnackBar(';  void _manageCompanies(';    _showInfoSnackBar(';  void _showAdminStats(';    _showInfoSnackBar(';  void _showNotifications(';    _showInfoSnackBar(';  void _showSettings(';    _showInfoSnackBar(';  void _showProfile(';    _showInfoSnackBar(';  void _showHelp(';    _showInfoSnackBar(';            onPressed: () => Navigator.pop(context';            child: const Text(';              Navigator.pop(context')')';            child: const Text(';')')