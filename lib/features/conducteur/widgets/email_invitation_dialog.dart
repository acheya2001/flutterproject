import 'package:flutter/material.dart';import '../../../core/services/email_validation_service.dart';import '../../../core/services/test_emailjs_service.dart';import '../../../core/services/webhook_email_service.dart';import '../../../core/services/firebase_email_test_service.dart';import '../../../core/services/firebase_email_service.dart';import '../../../core/services/test_email_service.dart';import '../../../core/services/gmail_oauth2_test_service.dart';import '../../../core/utils/session_utils.dart';            error: 'Erreur de validation';    final position = ['B', 'C', 'D', 'E', 'F';        helperText = 'Email valide ‚úì';        helperText = result.error ?? 'Email invalide ou inexistant';      helperText = 'V√©rification en cours...';              labelText: 'Email conducteur $position';        'Inviter les autres conducteurs';                'Entrez les adresses email des autres conducteurs impliqu√©s dans l\'accident:';                        'Validation des emails...';                'üí° Conseils:';                '‚Ä¢ V√©rifiez que les emails sont corrects\n';                '‚Ä¢ Les conducteurs recevront un lien d\'invitation\n';                '‚Ä¢ Ils pourront rejoindre la session avec le code';              // Boutons de test d';                            debugPrint('[EmailInvitationDialog] Test Firebase Functions...';                              testEmail: 'hammami123rahma@gmail.com';                                    ? '‚úÖ Test Firebase r√©ussi! V√©rifiez votre email.';                                    : '‚ùå Test Firebase √©chou√©. V√©rifiez les logs.';                            'Test Firebase';                            debugPrint('[EmailInvitationDialog] Test Gmail API...';                                email: 'hammami123rahma@gmail.com';                                sessionCode: 'TEST${DateTime.now().millisecondsSinceEpoch.toString().substring(8)}';                                sessionId: 'test_${DateTime.now().millisecondsSinceEpoch}';                                customMessage: 'üî• Test Gmail API depuis le bouton Test Email ! Si vous recevez cet email, Gmail API fonctionne parfaitement !';                                      ? 'üî• ‚úÖ Gmail API fonctionne ! V√©rifiez votre email.';                                      : '‚ùå Gmail API √©chou√©. V√©rifiez les logs.';                                    content: Text('‚ùå Erreur Gmail API: $e';                            'üî• Gmail API';                        debugPrint('[EmailInvitationDialog] üî• Test Gmail API...';                            email: 'hammami123rahma@gmail.com';                            sessionCode: 'GMAIL${DateTime.now().millisecondsSinceEpoch.toString().substring(8)}';                            sessionId: 'gmail_test_${DateTime.now().millisecondsSinceEpoch}';                            customMessage: 'üî• Test Gmail API depuis votre application Flutter ! Si vous recevez cet email, Gmail API fonctionne parfaitement !';                                  ? 'üî• ‚úÖ Gmail API fonctionne ! V√©rifiez votre email.';                                  : '‚ùå Gmail API √©chou√©. V√©rifiez les logs.';                          debugPrint('[EmailInvitationDialog] ‚ùå Erreur Gmail API: $e';                                content: Text('‚ùå Erreur Gmail API: $e';                        'üî• Test Gmail API (NOUVEAU)';                        debugPrint('[EmailInvitationDialog] Test de simulation...';                          final success = results['overall_success';                                ? 'üß™ Simulation r√©ussie! V√©rifiez les logs pour voir le contenu.';                                : '‚ùå Simulation √©chou√©e. V√©rifiez les logs.';                        'üß™ Test Simulation (Logs)';                    debugPrint('[EmailInvitationDialog] Test Gmail OAuth2...';                      email: 'hammami123rahma@gmail.com';                      sessionCode: 'GMAIL${DateTime.now().millisecondsSinceEpoch % 1000}';                      conducteurNom: 'Test Gmail OAuth2';                            ? '‚úÖ Test Gmail OAuth2 r√©ussi! V√©rifiez votre email.';                            : '‚ùå Test Gmail OAuth2 √©chou√©. Configurez d\'abord OAuth2.';                    'üìß TEST GMAIL OAUTH2 (RECOMMAND√â)';                    debugPrint('[EmailInvitationDialog] Test Webhook Universel...';                      email: 'motex15133@ihnpo.com';                      sessionCode: 'TEST456';                      sessionId: 'test_webhook_id';                      customMessage: 'Test Webhook - Fonctionne avec TOUS les emails sans restriction !';                            ? '‚úÖ Test Webhook r√©ussi! V√©rifiez temp-mail dans 1 minute.';                            : '‚ùå Test Webhook √©chou√©. V√©rifiez les logs Flutter.';                    'üåê TEST WEBHOOK UNIVERSEL';                    debugPrint('[EmailInvitationDialog] Test EmailJS Direct...';                      email: 'motex15133@ihnpo.com';                            ? '‚úÖ Test EmailJS r√©ussi! V√©rifiez temp-mail dans 30 secondes.';                            : '‚ùå Test EmailJS √©chou√©. V√©rifiez les logs Flutter.';                    'üß™ TEST EMAILJS DIRECT';            debugPrint('[EmailInvitationDialog] Dialog annul√©';          child: const Text('Annuler';                  debugPrint('[EmailInvitationDialog] Emails valid√©s: $validEmails';              : const Text('Inviter';