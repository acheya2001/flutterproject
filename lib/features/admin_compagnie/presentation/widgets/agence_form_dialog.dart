import 'package:flutter/material.dart';import ';  final _responsableController = TextEditingController(';  String _selectedVille = ';    'Tunis': ['Tunis', 'Le Bardo', 'Le Kram', 'La Goulette', 'Sidi Bou Said', 'Carthage';    'Ariana': ['Ariana', 'Ettadhamen', 'Kalâat el-Andalous', 'Raoued', 'Soukra', 'Sidi Thabet';    'Ben Arous': ['Ben Arous', 'El Mourouj', 'Ezzahra', 'Hammam Lif', 'Hammam Chott', 'Megrine', 'Mohamedia', 'Rades';    'Manouba': ['Manouba', 'Den Den', 'Douar Hicher', 'Jedaida', 'Mornaguia', 'Oued Ellil', 'Tebourba';    'Nabeul': ['Nabeul', 'Hammamet', 'Kelibia', 'Korba', 'Menzel Bouzelfa', 'Soliman';    'Zaghouan': ['Zaghouan', 'Bir Mcherga', 'El Fahs', 'Nadhour', 'Saouaf', 'Zriba';    'Bizerte': ['Bizerte', 'Menzel Bourguiba', 'Mateur', 'Sejnane', 'Joumine', 'Ghezala';    'Beja': ['Beja', 'Medjez el-Bab', 'Nefza', 'Teboursouk', 'Testour', 'Goubellat';    'Jendouba': ['Jendouba', 'Tabarka', 'Aïn Draham', 'Fernana', 'Ghardimaou', 'Oued Meliz';    'Le Kef': ['Le Kef', 'Dahmani', 'Sers', 'Tajerouine', 'Nebeur', 'Kalaat Senan';    'Siliana': ['Siliana', 'Bou Arada', 'Gaâfour', 'El Krib', 'Makthar', 'Rouhia';    'Kairouan': ['Kairouan', 'Sbikha', 'Oueslatia', 'Haffouz', 'Alâa', 'Hajeb El Ayoun';    'Kasserine': ['Kasserine', 'Sbeitla', 'Feriana', 'Foussana', 'Thala', 'Haïdra';    'Sidi Bouzid': ['Sidi Bouzid', 'Jellma', 'Cebbala Ouled Asker', 'Bir El Hafey', 'Sidi Ali Ben Aoun', 'Menzel Bouzaiane';    'Sousse': ['Sousse', 'Msaken', 'Kalâa Kebira', 'Kalâa Seghira', 'Kondar', 'Sidi Bou Ali';    'Monastir': ['Monastir', 'Ksar Hellal', 'Moknine', 'Jemmal', 'Bekalta', 'Beni Hassen';    'Mahdia': ['Mahdia', 'Chebba', 'Essouassi', 'Hebira', 'Ksour Essef', 'Mellouleche';    'Sfax': ['Sfax', 'Sakiet Ezzit', 'Sakiet Eddaïer', 'Chihia', 'Jebiniana', ';    if (widget.agence != null';      _nomController.text = agence['nom'] ?? ';      _adresseController.text = agence['adresse'] ?? ';      _telephoneController.text = agence['telephone'] ?? ';      _emailController.text = agence['email'] ?? ';      _responsableController.text = agence['responsable'] ?? ';      _selectedGouvernorat = agence['gouvernorat';      _selectedVille = agence['ville'] ?? ';    setState(() => _isLoading = true';        'nom: _nomController.text.trim(';        'gouvernorat';        'ville';        'adresse: _adresseController.text.trim(';        'telephone: _telephoneController.text.trim(';        'email: _emailController.text.trim(';        ';        ScaffoldMessenger.of(context';            content: (e';                      // Nom de l';                          labelText: 'Nom de l\'agence *';                          hintText: ';                          if (value == null || value.trim().isEmpty';                            return ';                                setState((';                                  _selectedVille = ';                                }';                                labelText: ';                                if (value == null || value.isEmpty';                                  return ';                                      setState((';                                        _selectedVille = value ?? ';                                      }';                                labelText: ';                                if (value == null || value.isEmpty';                                  return ';                      const SizedBox(height: 16';                          labelText: 'Adresse *';                          hintText: ';                          if (value == null || value.trim().isEmpty';                            return 'L\';                      const SizedBox(height: 16';                          labelText: 'Telephone';                          hintText: ';                          if (value != null && value.isNotEmpty';                            if (!RegExp(r'^\+216\s?\d{2}\s?\d{3}\s?\d{3}').hasMatch(value)';                              return ';                      const SizedBox(height: 16';                          labelText: 'Email';                          hintText: ';                          if (value != null && value.isNotEmpty';                            if (!RegExp(r'^[^@]+@[^@]+\.[^@]+').hasMatch(value)';                              return 'Format d\';                      const SizedBox(height: 16';                          labelText: 'Responsable';                          hintText: 'Nom du responsable de l\';            const SizedBox(height: 20';            // Boutons d';                    child: const Text(';                          ')')';                        : const Text(isEditing ? 'Modifier' : ';