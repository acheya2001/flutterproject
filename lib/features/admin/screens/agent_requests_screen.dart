import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:intl/intl.dart';import '../../../core/widgets/custom_app_bar.dart';import '../../auth/services/agent_registration_service.dart';import '../../auth/models/agent_registration_model.dart';  String _selectedFilter = 'all';      debugPrint('Erreur chargement données: $e';            content: Text('Erreur: $e';        title: const Text('✅ Approuver la demande';            Text('Voulez-vous approuver la demande de :';              '${request.fullName}';            Text('${request.compagnie} - ${request.agence}';                    '✅ Actions qui seront effectuées :';                  Text('• Création du compte Firebase Auth';                  Text('• Enregistrement dans la base de données';                  Text('• Envoi d\'un email de confirmation';                  Text('• Activation de l\'accès à l\'application';            child: const Text('Annuler';            child: const Text('Approuver';          'admin', // TODO: Récupérer l';              content: Text('✅ Demande de ${request.fullName} approuvée';        debugPrint('Erreur approbation: $e';              content: Text('Erreur lors de l\'approbation: $e';        title: const Text('❌ Rejeter la demande';            Text('Rejeter la demande de :';              '${request.fullName}';            Text('${request.compagnie} - ${request.agence}';                labelText: 'Motif du rejet *';                hintText: 'Expliquez pourquoi cette demande est rejetée...';            child: const Text('Annuler';                    content: Text('Veuillez saisir un motif';            child: const Text('Rejeter';          'admin', // TODO: Récupérer l';              content: Text('❌ Demande de ${request.fullName} rejetée';        debugPrint('Erreur rejet: $e';              content: Text('Erreur lors du rejet: $e';                    '${request.statusIcon} ${request.statusFormatted}';                  _buildInfoRow('🏢 Compagnie';                  _buildInfoRow('🏪 Agence';                  _buildInfoRow('📍 Gouvernorat';                  _buildInfoRow('💼 Poste';                  _buildInfoRow('📞 Téléphone';                  _buildInfoRow('🆔 N° Agent';                  'Soumis ${request.submissionTimeText}';                  DateFormat('dd/MM/yyyy à HH:mm';            // Boutons d';                      label: const Text('Rejeter';                      label: const Text('Approuver';  /// 📝 Widget pour afficher une ligne d';        title: 'Demandes d\'Agents';                          'Total';                          _stats['total']?.toString() ?? '0';                          'En attente';                          _stats['pending']?.toString() ?? '0';                          'Approuvés';                          _stats['approved']?.toString() ?? '0';                          'Rejetés';                          _stats['rejected']?.toString() ?? '0';                                'Aucune demande en attente';