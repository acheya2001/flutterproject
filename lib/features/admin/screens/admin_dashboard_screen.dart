import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../../../core/widgets/custom_app_bar.dart';import '../../../features/auth/providers/auth_provider.dart';import '../models/agent_validation_model.dart';import '../models/admin_model.dart';import '../../database/screens/database_setup_screen.dart';import 'agent_validation_screen.dart';import 'admin_demandes_screen.dart';import 'admin_hierarchy_setup_screen.dart';/// ğŸ‘¨â€ğŸ’¼ Ã‰cran principal d';          .collection('agents_validation';      // Charger le nombre total d';          .collection('users';            content: Text('Erreur lors du chargement: $e';        title: 'Administration';                      'Administrateur: ${user?.prenom} ${user?.nom}';                      'Supervision et validation du systÃ¨me';          'ğŸ“Š Statistiques SystÃ¨me';            _buildStatCard('En Attente';            _buildStatCard('ApprouvÃ©es';            _buildStatCard('RejetÃ©es';            _buildStatCard('Utilisateurs';          'âš¡ Actions Rapides';              'Demandes d\'Inscription';              'Approuver les agents';              'Gestion Permissions';              'Modifier les permissions';              () => Navigator.pushNamed(context, '/admin/permissions';              'Statistiques';              'Rapports dÃ©taillÃ©s';              'Base de DonnÃ©es';              'Configuration Firebase';              'Tests Assurance';              'Tester le systÃ¨me complet';              () => Navigator.pushNamed(context, '/test/insurance';            // Nouveaux Ã©crans d';              'Gestion Compagnies';              'GÃ©rer les compagnies d\'assurance';              () => Navigator.pushNamed(context, '/admin/compagnies';              'Config HiÃ©rarchie';              'SystÃ¨me d\'approbation complexe';              'Test SystÃ¨me Admin';              'Tester la hiÃ©rarchie administrative';              () => Navigator.pushNamed(context, '/admin/test';              'Initialisation';              'Initialiser le super admin';              () => Navigator.pushNamed(context, '/admin/init';              'ğŸ“‹ Demandes RÃ©centes';              child: const Text('Voir tout';              .collection('agents_validation';              .where('statut', isEqualTo: 'en_attente';              .orderBy('createdAt';                    'Aucune demande en attente';                  '${validation.compagnieDemandee} - ${validation.delegation}';            '${validation.joursDepuisCreation}j';        content: Text('ğŸš§ FonctionnalitÃ© bientÃ´t disponible';