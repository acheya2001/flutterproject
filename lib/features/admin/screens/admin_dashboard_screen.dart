import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../../../core/widgets/custom_app_bar.dart';import '../../../features/auth/providers/auth_provider.dart';import '../models/agent_validation_model.dart';import '../models/admin_model.dart';import '../../database/screens/database_setup_screen.dart';import 'agent_validation_screen.dart';import 'admin_demandes_screen.dart';import 'admin_hierarchy_setup_screen.dart';/// 👨‍💼 Écran principal d';          .collection('agents_validation';      // Charger le nombre total d';          .collection('users';            content: Text('Erreur lors du chargement: $e';        title: 'Administration';                      'Administrateur: ${user?.prenom} ${user?.nom}';                      'Supervision et validation du système';          '📊 Statistiques Système';            _buildStatCard('En Attente';            _buildStatCard('Approuvées';            _buildStatCard('Rejetées';            _buildStatCard('Utilisateurs';          '⚡ Actions Rapides';              'Demandes d\'Inscription';              'Approuver les agents';              'Gestion Permissions';              'Modifier les permissions';              () => Navigator.pushNamed(context, '/admin/permissions';              'Statistiques';              'Rapports détaillés';              'Base de Données';              'Configuration Firebase';              'Tests Assurance';              'Tester le système complet';              () => Navigator.pushNamed(context, '/test/insurance';            // Nouveaux écrans d';              'Gestion Compagnies';              'Gérer les compagnies d\'assurance';              () => Navigator.pushNamed(context, '/admin/compagnies';              'Config Hiérarchie';              'Système d\'approbation complexe';              'Test Système Admin';              'Tester la hiérarchie administrative';              () => Navigator.pushNamed(context, '/admin/test';              'Initialisation';              'Initialiser le super admin';              () => Navigator.pushNamed(context, '/admin/init';              '📋 Demandes Récentes';              child: const Text('Voir tout';              .collection('agents_validation';              .where('statut', isEqualTo: 'en_attente';              .orderBy('createdAt';                    'Aucune demande en attente';                  '${validation.compagnieDemandee} - ${validation.delegation}';            '${validation.joursDepuisCreation}j';        content: Text('🚧 Fonctionnalité bientôt disponible';