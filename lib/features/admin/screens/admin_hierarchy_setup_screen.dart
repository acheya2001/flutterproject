import 'package:flutter/material.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../services/admin_hierarchy_service.dart';import '../../../core/models/admin_hierarchy_model.dart';import 'hierarchical_admin_demandes_screen.dart';/// ğŸ—ï¸ Ã‰cran pour initialiser et tester la hiÃ©rarchie d';  String _message = '';        title: const Text('Configuration Admin HiÃ©rarchique';                    'ğŸ¢ SystÃ¨me d\'Approbation HiÃ©rarchique';                    'Ce systÃ¨me crÃ©e une hiÃ©rarchie d\'administrateurs pour approuver les demandes d\'inscription des agents d\'assurance.';                    'ğŸ“‹ HiÃ©rarchie:';                  const Text('â€¢ Super Admin - GÃ¨re tout l\'application';                  const Text('â€¢ Admin Compagnie - GÃ¨re une compagnie';                  const Text('â€¢ Admin Agence - GÃ¨re une agence';                  const Text('â€¢ Admin RÃ©gional - GÃ¨re un gouvernorat';            // Boutons d';              'Initialiser la HiÃ©rarchie';              'CrÃ©er tous les admins par dÃ©faut';              'Lister les Admins';              'Voir tous les admins crÃ©Ã©s';              'Tester Super Admin';              'Se connecter comme Super Admin';              'Nettoyer les DonnÃ©es';              'Supprimer tous les admins de test';                  color: _message.contains('âœ…';                    color: _message.contains('âœ…';                    color: _message.contains('âœ…';                'Admins CrÃ©Ã©s (${_admins.length})';                    'ğŸ§ª Instructions de Test';                  const Text('1. Cliquez "Initialiser la HiÃ©rarchie"';                  const Text('2. Inscrivez un agent avec l\'interface normale';                  const Text('3. Connectez-vous comme admin pour approuver';                  const Text('4. L\'agent peut maintenant se connecter';                    'ğŸ“§ Comptes Admin CrÃ©Ã©s:';                  const Text('â€¢ constat.tunisie.app@gmail.com (Super Admin)';                  const Text('â€¢ admin@star.tn (Admin STAR)';                  const Text('â€¢ admin@gat.tn (Admin GAT)';                  const Text('â€¢ admin.nord@constat.tn (Admin Nord)';        title: Text('${admin.prenom} ${admin.nom}';          child: const Text('Tester';      _message = 'ğŸ”„ Initialisation en cours...';        _message = 'âœ… HiÃ©rarchie d\'admins initialisÃ©e avec succÃ¨s !\n';            'Vous pouvez maintenant tester le systÃ¨me d\'approbation.';        _message = 'âŒ Erreur lors de l\'initialisation: $e';          .collection('admins_hierarchy';            ? 'âœ… ${admins.length} admins trouvÃ©s';            : 'âš ï¸ Aucun admin trouvÃ©. Initialisez d\'abord la hiÃ©rarchie.';        _message = 'âŒ Erreur lors de la rÃ©cupÃ©ration: $e';      orElse: () => throw Exception('Super Admin non trouvÃ©';        title: const Text('Confirmer la suppression';          'ÃŠtes-vous sÃ»r de vouloir supprimer tous les admins de test ?\n';          'Cette action est irrÃ©versible.';            child: const Text('Annuler';            child: const Text('Supprimer';        _message = 'ğŸ§¹ Nettoyage en cours...';          _message = 'âœ… DonnÃ©es nettoyÃ©es avec succÃ¨s';          _message = 'âŒ Erreur lors du nettoyage: $e';