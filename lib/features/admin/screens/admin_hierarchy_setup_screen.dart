import 'package:flutter/material.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../services/admin_hierarchy_service.dart';import '../../../core/models/admin_hierarchy_model.dart';import 'hierarchical_admin_demandes_screen.dart';/// 🏗️ Écran pour initialiser et tester la hiérarchie d';  String _message = '';        title: const Text('Configuration Admin Hiérarchique';                    '🏢 Système d\'Approbation Hiérarchique';                    'Ce système crée une hiérarchie d\'administrateurs pour approuver les demandes d\'inscription des agents d\'assurance.';                    '📋 Hiérarchie:';                  const Text('• Super Admin - Gère tout l\'application';                  const Text('• Admin Compagnie - Gère une compagnie';                  const Text('• Admin Agence - Gère une agence';                  const Text('• Admin Régional - Gère un gouvernorat';            // Boutons d';              'Initialiser la Hiérarchie';              'Créer tous les admins par défaut';              'Lister les Admins';              'Voir tous les admins créés';              'Tester Super Admin';              'Se connecter comme Super Admin';              'Nettoyer les Données';              'Supprimer tous les admins de test';                  color: _message.contains('✅';                    color: _message.contains('✅';                    color: _message.contains('✅';                'Admins Créés (${_admins.length})';                    '🧪 Instructions de Test';                  const Text('1. Cliquez "Initialiser la Hiérarchie"';                  const Text('2. Inscrivez un agent avec l\'interface normale';                  const Text('3. Connectez-vous comme admin pour approuver';                  const Text('4. L\'agent peut maintenant se connecter';                    '📧 Comptes Admin Créés:';                  const Text('• constat.tunisie.app@gmail.com (Super Admin)';                  const Text('• admin@star.tn (Admin STAR)';                  const Text('• admin@gat.tn (Admin GAT)';                  const Text('• admin.nord@constat.tn (Admin Nord)';        title: Text('${admin.prenom} ${admin.nom}';          child: const Text('Tester';      _message = '🔄 Initialisation en cours...';        _message = '✅ Hiérarchie d\'admins initialisée avec succès !\n';            'Vous pouvez maintenant tester le système d\'approbation.';        _message = '❌ Erreur lors de l\'initialisation: $e';          .collection('admins_hierarchy';            ? '✅ ${admins.length} admins trouvés';            : '⚠️ Aucun admin trouvé. Initialisez d\'abord la hiérarchie.';        _message = '❌ Erreur lors de la récupération: $e';      orElse: () => throw Exception('Super Admin non trouvé';        title: const Text('Confirmer la suppression';          'Êtes-vous sûr de vouloir supprimer tous les admins de test ?\n';          'Cette action est irréversible.';            child: const Text('Annuler';            child: const Text('Supprimer';        _message = '🧹 Nettoyage en cours...';          _message = '✅ Données nettoyées avec succès';          _message = '❌ Erreur lors du nettoyage: $e';