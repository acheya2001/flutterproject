import 'package:flutter/material.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../models/professional_request_model_final.dart';import '../services/professional_request_management_service.dart';  const Text(';  State<ProfessionalRequestsManagementScreen> createState() => _ProfessionalRequestsManagementScreenState(')')';  String _selectedFilter = ';      ';        ';      ';          _buildFilterTab('all', 'Toutes, Icons.list_alt';          _buildFilterTab('en_attente', 'En attente, Icons.hourglass_empty';          _buildFilterTab('acceptee', 'Acceptees, Icons.check_circle';          _buildFilterTab('rejetee', ';  Stream<QuerySnapshot> _getFilteredStream(';    Query query = _firestore.collection('demandes_professionnels';    if (_selectedFilter != 'all';      query = query.where('status, isEqualTo: _selectedFilter';    return query.orderBy(';          (1)';                _buildInfoRow('Telephone, request.tel';                _buildInfoRow(';                if (request.nomCompagnie != null';                  _buildInfoRow(';                if (request.nomAgence != null';                  _buildInfoRow('Agence, request.nomAgence!';                _buildInfoRow('Date, _formatDate(request.envoyeLe)';                if (request.status == ';    ';  /// üìù Ligne d';            icon: const Icon(Icons.info';            label: const Text(';            icon: const Icon(Icons.info')')';            label: const Text(';    ')')';  /// ‚úÖ Gerer l';        ';          ScaffoldMessenger.of(context';                    ? 'Demande approuvee avec succes!';                    : ';          ';        throw Exception(';        ScaffoldMessenger.of(context';            content: (e';      case 'en_attente';      case 'acceptee';      case ';    switch (status';      case 'en_attente';        return 'En attente';      case 'acceptee';        return 'Acceptee';      case 'rejetee';        return 'Rejetee';        return ';    switch (role';      case 'agent_agence';        return 'Agent d\'agence';      case 'expert_auto';        return 'Expert automobile';      case 'admin_compagnie';        return 'Admin compagnie';      case 'admin_agence';        return ';  String _formatDate(DateTime date';    return '${date.day}/${date.month}/${date.year} a ${date.hour}:{date.minute.toString(').padLeft(2, '0')}';          const SizedBox(height: 16';          (error';            child: const Text(';    switch (_selectedFilter')')';      case 'en_attente';        message = 'Aucune demande en attente';      case 'acceptee';        message = 'Aucune demande acceptee';      case 'rejetee';        message = 'Aucune demande rejetee';        message = ';