import 'package:flutter/material.dart';import '../../models/professional_request_model_final.dart';import '../../../../core/theme/modern_theme.dart';import '../../services/professional_request_management_service.dart';import '../../../../core/services/approval_email_service.dart';/// üìã Modal de d√©tails d';                    if (widget.request.status == 'en_attente';            if (widget.request.status == 'en_attente';                  'D√©tails - ${widget.request.nomComplet}';                  'Informations compl√®tes de la demande';      title: 'Informations de la demande';        _buildInfoRow('Statut';        _buildInfoRow('R√¥le demand√©';        _buildInfoRow('Date de soumission';          _buildInfoRow('Date de traitement';      title: 'Informations personnelles';        _buildInfoRow('Nom complet';        _buildInfoRow('Email';        _buildInfoRow('T√©l√©phone';        _buildInfoRow('CIN';      title: 'Informations professionnelles';              '$label:';          'Commentaire (optionnel)';            hintText: 'Ajoutez un commentaire...';              onPressed: _isProcessing ? null : () => _handleAction('rejetee';              label: const Text('Rejeter';              onPressed: _isProcessing ? null : () => _handleAction('acceptee';              label: const Text('Approuver';          label: const Text('Fermer';      case 'acceptee';      case 'rejetee';      case 'acceptee';      case 'rejetee';      case 'acceptee': return 'Approuv√©e';      case 'rejetee': return 'Rejet√©e';      default: return 'En attente';      case 'agent_agence': return 'Agent d\'Agence';      case 'expert_auto': return 'Expert Automobile';      case 'admin_compagnie': return 'Admin Compagnie';      case 'admin_agence': return 'Admin Agence';    return '${date.day}/${date.month}/${date.year} √† ${date.hour}:${date.minute.toString().padLeft(2, '0')}';      case 'agent_agence';            _buildInfoRow('Nom agence';            _buildInfoRow('Compagnie';            _buildInfoRow('Adresse agence';            _buildInfoRow('Matricule';      case 'expert_auto';            _buildInfoRow('N¬∞ Agr√©ment';            _buildInfoRow('Zone intervention';            _buildInfoRow('Exp√©rience', '${widget.request.experienceAnnees} ans';      case 'admin_compagnie';            _buildInfoRow('Nom compagnie';            _buildInfoRow('Fonction';            _buildInfoRow('Adresse si√®ge';            _buildInfoRow('N¬∞ Autorisation';      case 'admin_agence';            _buildInfoRow('Nom agence';            _buildInfoRow('Ville';            _buildInfoRow('T√©l. agence';        return [const Text('Aucune information sp√©cifique';      if (newStatus == 'acceptee';          adminId: 'super_admin', // TODO: R√©cup√©rer l'ID de l';      } else if (newStatus == 'rejetee';          adminId: 'super_admin', // TODO: R√©cup√©rer l'ID de l';              : 'Votre demande ne r√©pond pas aux crit√®res requis.';        // Envoyer l';        if (newStatus == 'acceptee';            motDePasseTemporaire: 'TempPass123!';        } else if (newStatus == 'rejetee';                : 'Votre demande ne r√©pond pas aux crit√®res requis.';                newStatus == 'acceptee';                    ? 'Demande approuv√©e avec succ√®s !';                    : 'Demande rejet√©e.';              backgroundColor: newStatus == 'acceptee';            content: Text('Erreur: $e';