import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:flutter/material.dart';import '../../models/professional_request_model_final.dart';import '../../services/professional_request_service.dart';import '../../services/account_creation_email_service.dart';final requestSearchProvider = StateProvider<String>((ref) => '';final requestStatusFilterProvider = StateProvider<String>((ref) => 'tous';final requestTypeFilterProvider = StateProvider<String>((ref) => 'tous';      if (statusFilter != 'tous';      if (typeFilter != 'tous';          if (accountResult['success';            debugPrint('[APPROVAL] ✅ Compte créé - UID: ${accountResult['uid']}';            debugPrint('[APPROVAL] 🔐 Mot de passe temporaire: ${accountResult['temporaryPassword']}';              temporaryPassword: accountResult['temporaryPassword';              uid: accountResult['uid';              debugPrint('[APPROVAL] ✅ Email avec identifiants envoyé';              debugPrint('[APPROVAL] ⚠️ Erreur envoi email - Compte créé mais email non envoyé';            debugPrint('[APPROVAL] ❌ Erreur création compte: ${accountResult['error']}';            // La demande est approuvée mais le compte n';            // L';        state = AsyncValue.error('Erreur lors de l\'approbation';        state = AsyncValue.error('Erreur lors du rejet';        state = AsyncValue.error('Erreur lors de la suppression';        'total';        'en_attente': requests.where((r) => r.statut == 'en_attente';        'approuvees': requests.where((r) => r.statut == 'approuvee';        'rejetees': requests.where((r) => r.statut == 'rejetee';        'agents': requests.where((r) => r.typeCompte == 'agent';        'experts': requests.where((r) => r.typeCompte == 'expert';      if (stats['total';        stats['pourcentage_attente'] = ((stats['en_attente'] / stats['total';        stats['pourcentage_approuvees'] = ((stats['approuvees'] / stats['total';        stats['pourcentage_rejetees'] = ((stats['rejetees'] / stats['total';        stats['pourcentage_attente';        stats['pourcentage_approuvees';        stats['pourcentage_rejetees';      stats['nouvelles_cette_semaine';      stats['tendance'] = recentRequests > 0 ? 'hausse' : 'stable';      'total';      'en_attente';      'approuvees';      'rejetees';      'agents';      'experts';      'pourcentage_attente';      'pourcentage_approuvees';      'pourcentage_rejetees';      'nouvelles_cette_semaine';      'tendance': 'stable';      'total';      'en_attente';      'approuvees';      'rejetees';      'agents';      'experts';      'pourcentage_attente';      'pourcentage_approuvees';      'pourcentage_rejetees';      'nouvelles_cette_semaine';      'tendance': 'erreur';