import 'package:cloud_firestore/cloud_firestore.dart';import 'package:firebase_auth/firebase_auth.dart';import 'package:flutter/material.dart';import '../../../core/services/firebase_service.dart';import '../../../core/constants/app_constants.dart';import '../../../core/enums/app_enums.dart';import '../../../shared/models/user_model.dart';import '../models/account_request_model.dart';          .where('email';          .where('status';        throw Exception('Une demande est d√©j√† en cours de traitement pour cet email';          .where('email';        throw Exception('Un compte existe d√©j√† avec cet email';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Demande cr√©√©e pour: ${request.email}';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de la cr√©ation: $e';          .orderBy('createdAt';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de la r√©cup√©ration: $e';          .where('status';          .orderBy('createdAt';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de la r√©cup√©ration des demandes en attente: $e';        throw Exception('Demande introuvable';        throw Exception('Cette demande a d√©j√† √©t√© trait√©e';      // Transaction pour cr√©er l';        // Cr√©er l';            'status';            'processedAt';            'processedBy';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Demande approuv√©e et compte cr√©√©: ${request.email}';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de l\'approbation: $e';        throw Exception('Demande introuvable';        throw Exception('Cette demande a d√©j√† √©t√© trait√©e';        'status';        'processedAt';        'processedBy';        'rejectionReason';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Demande rejet√©e: ${request.email}';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors du rejet: $e';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de la r√©cup√©ration par ID: $e';        'total';        'pending';        'approved';        'rejected';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de la r√©cup√©ration des stats: $e';    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';  /// üìß Envoyer un email d';      // TODO: Impl√©menter l'envoi d';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Email d\'approbation √† envoyer √†: ${request.email}';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Mot de passe temporaire: $tempPassword';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de l\'envoi de l\'email d\'approbation: $e';      // TODO: Impl√©menter l'envoi d';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Email de rejet √† envoyer √†: ${request.email}';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Raison: $reason';      debugPrint('[ACCOUNT_REQUEST_SERVICE] Erreur lors de l\'envoi de l\'email de rejet: $e';        .orderBy('createdAt';        .where('status';        .orderBy('createdAt';