import 'dart:io';import 'package:flutter/material.dart';import 'package:image_picker/image_picker.dart';// import 'package:speech_to_text/speech_to_text.dart';import '../models/accident_analysis_model.dart';import '../services/offline_ai_service.dart';/// ğŸ¤– Widget d'analyse IA d';  String _voiceDescription = '';  /// ğŸ” VÃ©rifier si l';    debugPrint('[AI] Reconnaissance vocale temporairement dÃ©sactivÃ©e';  /// ğŸ“‹ Afficher l';                  'Analyse IA Existante';                  label: Text('${(_existingAnalysis!.reconstruction.confidence * 100).toInt()}% confiance';            // RÃ©sumÃ© de l';            // Boutons d';                    label: const Text('Voir la reconstitution';                    label: const Text('DÃ©tails';  /// â• Interface de crÃ©ation d';                  'Analyse IA de l\'accident';              'Ajoutez des photos et une description pour gÃ©nÃ©rer automatiquement un croquis et une reconstitution vidÃ©o.';            // Bouton d';          'ğŸ“¸ Photos de l\'accident';  /// â• Bouton d';            Text('Ajouter photo';          'ğŸ“ Description de l\'accident';            hintText: 'DÃ©crivez comment l\'accident s\'est produit...';                label: Text(_isListening ? 'ArrÃªter' : 'Description vocale';              'âœ… Enregistrement vocal ajoutÃ©';  /// ğŸš€ Bouton d';        label: Text(_isAnalyzing ? 'Analyse en cours...' : 'GÃ©nÃ©rer l\'analyse IA';  // MÃ©thodes d';      'Ã‰coute en cours...';      'J\'ai entendu un bruit de freinage...';      'Il y a eu une collision Ã  l\'intersection...';      'Deux vÃ©hicules sont impliquÃ©s dans l\'accident...';      'Le vÃ©hicule blanc roulait vers le nord...';      'Le vÃ©hicule noir arrivait de la droite...';      'L\'impact s\'est produit cÃ´tÃ© conducteur...';      'Les dÃ©gÃ¢ts semblent importants Ã  l\'avant...';      'Collision Ã  l\'intersection entre vÃ©hicule blanc et noir, impact latÃ©ral, dÃ©gÃ¢ts importants Ã  l\'avant des deux vÃ©hicules, freinage d\'urgence visible.';      if (!_isListening) break; // ArrÃªt si l';    debugPrint('[AI] Simulation reconnaissance vocale terminÃ©e: $_voiceDescription';            content: Text('âœ… Analyse IA terminÃ©e avec succÃ¨s !';            content: Text('âŒ Erreur lors de l\'analyse: $e';  // MÃ©thodes d';        Text('ğŸš— ${analysis.imageAnalysis.vehicleCount} vÃ©hicules dÃ©tectÃ©s';        Text('ğŸ’¥ ${analysis.imageAnalysis.damages.length} zones de dÃ©gÃ¢ts';        Text('ğŸ“ Impact: ${analysis.imageAnalysis.impact.direction}';          Text('ğŸ“ Description: ${analysis.description.originalText.substring(0, 50)}...';    // DÃ©marrer l';                      'Reconstitution IA - Accident';              // Informations de l';    // TODO: ImplÃ©menter l';        title: const Text('Analyse dÃ©taillÃ©e';        content: const Text('FonctionnalitÃ© en cours de dÃ©veloppement';            child: const Text('OK';                      'Reconstitution 3D - IA AvancÃ©e';                        'LIVE';                '0:${(_animationController.value * 15).toInt().toString().padLeft(2, '0')}';                '0:15';                'DÃ©tails de la reconstitution';              _buildInfoChip('VÃ©hicules', '${analysis.imageAnalysis.vehicleCount}';              _buildInfoChip('Confiance', '${(analysis.reconstruction.confidence * 100).toInt()}%';              _buildInfoChip('DurÃ©e', '15s';        '$label: $value';/// ğŸ¨ Painter pour l';    // Point d';