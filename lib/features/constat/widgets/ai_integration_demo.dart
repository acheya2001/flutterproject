import 'package:flutter/material.dart';import 'ai_accident_analysis_widget.dart';import '../models/accident_analysis_model.dart';import 'dart:math';/// 🎯 Widget de démonstration pour l';/// Montre comment intégrer l';        title: const Text('🤖 Analyse IA d\'Accident';            // Widget d';            // Résultats de l';            // Guide d';                  'Analyse IA Gratuite';              'Cette fonctionnalité utilise uniquement des technologies gratuites :';      '📸 Analyse d\'images avec algorithmes simples';      '🎤 Reconnaissance vocale native';      '🧠 Traitement de texte basique';      '📊 Génération de rapports automatiques';      '💾 Sauvegarde dans Firebase';  /// 📊 Résultats de l';                  'Résultats de l\'analyse';                  label: Text('${(_analysis!.reconstruction.confidence * 100).toInt()}% confiance';            // 🎬 BOUTONS D';          '🚗 Véhicules détectés (${_analysis!.imageAnalysis.vehicleCount})';          child: Text('• ${vehicle.type} ${vehicle.color} (${vehicle.position})';          '💥 Dégâts identifiés (${_analysis!.imageAnalysis.damages.length})';          child: Text('• ${damage.location}: ${damage.severity}';          '💥 Analyse de l\'impact';              Text('• Direction: ${impact.direction}';              Text('• Angle: ${impact.angle}';              Text('• Vitesse estimée: ${impact.speed}';          '📝 Description analysée';  /// 🎬 Boutons d';              'Reconstitution vidéo IA';        // Boutons d';                label: const Text('Voir la reconstitution';                label: const Text('Détails';            label: const Text('Télécharger la vidéo';  /// 📖 Guide d';                  'Guide d\'utilisation';      '1. Prenez des photos claires de l\'accident';      '2. Ajoutez une description vocale ou écrite';      '3. Lancez l\'analyse IA gratuite';      '4. Consultez les résultats générés';      '5. Utilisez les données dans votre constat';    // Démarrer l';                      'Reconstitution IA - Accident';              // Informations de l';            Text('Détails de l\'analyse';                _buildDetailSection('🚗 Véhicules';                  'Nombre détecté: ${_analysis!.imageAnalysis.vehicleCount}';                  'Confiance: ${(_analysis!.imageAnalysis.confidence * 100).toInt()}%';                _buildDetailSection('💥 Impact';                  'Direction: ${_analysis!.imageAnalysis.impact.direction}';                  'Angle: ${_analysis!.imageAnalysis.impact.angle}';                  'Vitesse: ${_analysis!.imageAnalysis.impact.speed}';                _buildDetailSection('🎬 Reconstitution';                  'Confiance: ${(_analysis!.reconstruction.confidence * 100).toInt()}%';                  'Durée estimée: 30 secondes';                  'Format: MP4 HD';            child: const Text('Fermer';          child: Text('• $detail';              color: Colors.green[100], // Fond vert pour simuler l';                      'Reconstitution 3D - IA Avancée';                        'LIVE';                '0:${(_animationController.value * 15).toInt().toString().padLeft(2, '0')}';                '0:15';                'Détails de la reconstitution';            _analysis?.reconstruction.prompt ?? 'Aucune information disponible';              _buildInfoChip('Véhicules', '${_analysis?.imageAnalysis.vehicleCount ?? 0}';              _buildInfoChip('Confiance', '${((_analysis?.reconstruction.confidence ?? 0) * 100).toInt()}%';              _buildInfoChip('Durée', '15s';        '$label: $value';              child: Text('🎥 Génération de la vidéo en cours...';          label: 'Voir';            content: Text('✅ Vidéo générée ! Cliquez sur "Voir" pour la visionner';/// 🎨 Painter pour l';    // Point d';