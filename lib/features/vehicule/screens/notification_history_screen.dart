import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:intl/intl.dart';import '../../../core/widgets/custom_app_bar.dart';import '../../../core/widgets/loading_state.dart';import '../../../core/widgets/empty_state.dart';import '../providers/vehicule_provider.dart';import '../../auth/providers/auth_provider.dart';    debugPrint('[NotificationHistoryScreen] Building screen, isLoading: $_isLoading, notifications count: ${_notifications.length}';        title: 'Historique des notifications';          ? const LoadingState(message: 'Chargement de l\'historique...';                  title: 'Aucune notification';                  message: 'Vous n\'avez pas encore reçu de notifications de rappel.';    final dateFormat = DateFormat('dd/MM/yyyy à HH:mm';    final sentAt = notification['sentAt';    final isRead = notification['read';    final type = notification['type'] ?? '';    final daysRemaining = notification['daysRemaining';      case 'insurance_reminder';      case 'insurance_expired';      case 'insurance_overdue';                          notification['title'] ?? '';                notification['body'] ?? '';                    '$daysRemaining jour(s) restant(s)';    if (notification['read';      await vehiculeProviderInstance.markNotificationAsRead(notification['id';        notification['read';      debugPrint('Erreur lors du marquage comme lu: $e';}