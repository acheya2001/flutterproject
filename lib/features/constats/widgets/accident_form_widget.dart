import 'package:flutter/material.dart';import 'package:geolocator/geolocator.dart';import '../../vehicules/models/vehicule_assure_model.dart';/// 📝 Widget formulaire pour les informations de l';  String _meteo = 'ensoleille';  String _visibilite = 'bonne';  String _etatRoute = 'seche';    _dateController.text = '${now.day.toString().padLeft(2, '0')}/';                          '${now.month.toString().padLeft(2, '0')}/';                          '${now.year}';    _heureController.text = '${now.hour.toString().padLeft(2, '0')}:';                           '${now.minute.toString().padLeft(2, '0')}';    // Retarder l';            _buildSectionHeader('📅 Date et Heure', 'Quand l\'accident s\'est-il produit ?';                      labelText: 'Date';                      labelText: 'Heure';            _buildSectionHeader('📍 Lieu de l\'Accident', 'Où l\'accident s\'est-il produit ?';                labelText: 'Adresse ou description du lieu';                  return 'Veuillez saisir le lieu de l\'accident';                  '📍 Position: ${_currentPosition!.latitude.toStringAsFixed(6)}, ';                  '${_currentPosition!.longitude.toStringAsFixed(6)}';            _buildSectionHeader('🌤️ Conditions', 'Dans quelles conditions l\'accident s\'est-il produit ?';              'Météo';              ['ensoleille', 'nuageux', 'pluvieux', 'brouillard';              ['☀️ Ensoleillé', '☁️ Nuageux', '🌧️ Pluvieux', '🌫️ Brouillard';              'Visibilité';              ['bonne', 'reduite', 'mauvaise';              ['👁️ Bonne', '👁️‍🗨️ Réduite', '🚫 Mauvaise';              'État de la route';              ['seche', 'humide', 'mouillee', 'verglacee';              ['🛣️ Sèche', '💧 Humide', '🌊 Mouillée', '🧊 Verglacée';            _buildSectionHeader('📝 Description', 'Décrivez ce qui s\'est passé';                labelText: 'Description détaillée de l\'accident';                  return 'Veuillez décrire l\'accident';            '🚗 Véhicule Impliqué';          _buildInfoRow('Véhicule', '${widget.vehicule.vehicule.marque} ${widget.vehicule.vehicule.modele}';          _buildInfoRow('Immatriculation';          _buildInfoRow('Couleur';          _buildInfoRow('Assureur';          _buildInfoRow('N° Contrat';  /// 📊 Ligne d';              '$label:';      _dateController.text = '${date.day.toString().padLeft(2, '0')}/';                            '${date.month.toString().padLeft(2, '0')}/';                            '${date.year}';  /// ⏰ Sélectionner l';      _heureController.text = '${time.hour.toString().padLeft(2, '0')}:';                             '${time.minute.toString().padLeft(2, '0')}';        throw Exception('Les services de localisation sont désactivés';          throw Exception('Permission de localisation refusée';        throw Exception('Permission de localisation refusée définitivement';        _lieuController.text = 'Position GPS: ${position.latitude.toStringAsFixed(6)}, ${position.longitude.toStringAsFixed(6)}';            content: Text('Erreur de géolocalisation: $e';      'date';      'heure';      'lieu';      'description';      'meteo';      'visibilite';      'etat_route';      'position';        'latitude';        'longitude';      'vehicule_id';  /// 🏢 Nom de l';      case 'STAR';        return 'STAR Assurances';      case 'MAGHREBIA';        return 'Maghrebia Assurances';      case 'GAT';        return 'GAT Assurances';