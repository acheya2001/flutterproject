import 'package:flutter/material.dart';import 'package:flutter_riverpod/flutter_riverpod.dart';import 'package:cloud_firestore/cloud_firestore.dart';import '../../../core/widgets/custom_app_bar.dart';  String _selectedCollection = 'contracts';        title: 'Statistiques Base de Données';                            'Statistiques de la Base de Données';                              _buildStatCard('Compagnies', _counts['insurance_companies';                              _buildStatCard('Agences', _counts['agences';                              _buildStatCard('Agents', _counts['assureurs';                              _buildStatCard('Conducteurs', _counts['conducteurs';                              _buildStatCard('Contrats', _counts['contracts';                              _buildStatCard('Utilisateurs', _counts['users';                        'Voir les données:';                            const DropdownMenuItem(value: 'contracts', child: Text('Contrats';                            const DropdownMenuItem(value: 'assureurs', child: Text('Agents';                            const DropdownMenuItem(value: 'conducteurs', child: Text('Conducteurs';                            const DropdownMenuItem(value: 'agences', child: Text('Agences';                            const DropdownMenuItem(value: 'insurance_companies', child: Text('Compagnies';                  // Données d';                                  'Sélectionnez une collection pour voir les données';              '$value';      case 'contracts';        return 'Contrat ${data['numero_contrat'] ?? 'N/A'}';      case 'assureurs';        return '${data['prenom'] ?? ''} ${data['nom'] ?? ''}';      case 'conducteurs';        return '${data['prenom'] ?? ''} ${data['nom'] ?? ''}';      case 'agences';        return data['nom'] ?? 'Agence';      case 'insurance_companies';        return data['nom'] ?? 'Compagnie';        return 'Élément';      case 'contracts';        return 'Compagnie: ${data['compagnie']?['code'] ?? 'N/A'} | Conducteur: ${data['conducteur']?['prenom'] ?? ''} ${data['conducteur']?['nom'] ?? ''}';      case 'assureurs';        return 'Compagnie: ${data['compagnie'] ?? 'N/A'} | Poste: ${data['poste'] ?? 'N/A'}';      case 'conducteurs';        return 'CIN: ${data['cin'] ?? 'N/A'} | Profession: ${data['profession'] ?? 'N/A'}';      case 'agences';        return 'Compagnie: ${data['compagnie'] ?? 'N/A'} | Gouvernorat: ${data['gouvernorat'] ?? 'N/A'}';      case 'insurance_companies';        return 'Code: ${data['code'] ?? 'N/A'} | Statut: ${data['statut'] ?? 'N/A'}';        return 'Détails';      case 'contracts';        status = data['statut';      case 'assureurs';      case 'conducteurs';        status = data['statut';      case 'agences';      case 'insurance_companies';        status = data['statut';      case 'actif';      case 'active';      case 'en_attente';      case 'suspendu';      case 'expire';        'insurance_companies';        'agences';        'users';        'user_types';        'assureurs';        'conducteurs';        'contracts';      // Charger les données d';          SnackBar(content: Text('Erreur lors de la vérification: $e';          SnackBar(content: Text('Erreur lors du chargement des données: $e';          title: Text('Détails - ${_getItemTitle(data)}';                          '${entry.key}:';                        child: Text(entry.value?.toString() ?? 'N/A';              child: const Text('Fermer';